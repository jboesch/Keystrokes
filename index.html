<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">

<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<!--
<script type="text/javascript" src="http://www.google.com/jsapi"></script>
<script type="text/javascript">google.load('jquery','1.3.2', {uncompressed:true});</script>
-->
<script type="text/javascript" src="js/jquery.1.4a2.min.js"></script>
<script type="text/javascript" src="js/jquery.keystrokes.js"></script>
<title>Keystrokes</title>

<script type="text/javascript">	
	
	jQuery(function($){
			
			// Add/modify event key codes to meet your own needs
			$.extend($.event.special.keystrokes.codes, { 133234 : 'my fake key' });
			
			// Debugging to the console
			$.event.special.keystrokes.debug = true;
			
			$(document).bind('keystrokes.NameSpace', {
		
					keys: ['i', 'p'],
					success: function(event){
						draw('You typed : <em>' + event.keystrokes.stack_item.keys.join(', ') + '</em>');
					}
			
			}, function(event){});
			
			
			// Another one!
			$(document).bind('keystrokes.SingleItem', {
			
					keys: ['m', 'arrow down+r'],
					success: function(event){
						// Unbind this event after it's been successfully typed
						$(this).unbind(event.keystrokes.stack_item.name);
						draw('You typed : <em>' + event.keystrokes.stack_item.keys.join(', ') + '</em>.  You cannot type it again because it has been unbound!');
					}
					
			}, function(event){});
		
			
			// Bind the brand spankin' new keystrokes event
			$(document).bind('keystrokes.OtherNameSpace', [
			
				{
					// Define typed keys in sequence
					keys: ['h', 'shift+p+o'],
					// If false, this will not execute the main callback, only the "success" callback on this stack item
					proceedToMainCallback: false,
					// The callback bound to this specific stack item
					success: function(event, element){
						draw('You typed : <em>' + event.keystrokes.stack_item.keys.join(', ') + '</em>.  This has "proceedToMainCallback: false" so it will not call the main callback for this bound event.</em>');
					}
					
				},
				{
					// Define typed keys in sequence
					keys: ['j', 'k'],
					// The callback bound to this specific stack item
					success: function(event, element){
						draw('You typed : <em>' + event.keystrokes.stack_item.keys.join(', ') + '</em>');
					}
				},
				{
					// Define typed keys in sequence
					keys: ['arrow up+comma+k', 1, 2, 3],
					// The callback bound to this specific stack item
					success: function(event, element){
						draw('You typed : <em>' + event.keystrokes.stack_item.keys.join(', ') + '</em>');
					}
				}
				
			// The main callback that gets called with every successful key sequence
			// This can be skipped by setting 'proceedToMainCallback: false' as an option in a stack item
			], function(event){
					
					// Maybe get the whole stack.. if you want?
					var stack = event.keystrokes.stack;
					
					// Get the specific stackee item that was successfully typed
					var data_keys = event.keystrokes.stack_item.keys.join(', ');
					
					/*
					if(data_keys[0] == 'j' && data_keys[1] == 'k'){
						draw('You typed j then k... amazing! This is the 2nd time it will be drawn');
					}
					*/
					
					draw('<span>This is the main callback for selected successful keystrokes. To skip this call, just set "proceedToMainCallback: false" in your stack item: </span> ' + data_keys);
				
				}
			);
			
		function draw(str){
			$('body').append('<div class="typed">' + str + '</div>');
		}	
		
		// Unbind an event after 10 seconds!
		setTimeout(function(){
			
			$(document).unbind('keystrokes.NameSpace');
			draw('keystrokes.NameSpace has been unbound! It was on a 10 second timer since the document was ready.  You can no longer type: <em>i, p</em>');
			
		}, 10000);
			
	});
	
</script>
<style type="text/css">
	.typed {
		background:#eee;
		padding:5px;
		border-bottom:1px solid #ccc;
	}
	.typed em {
		font-weight:bold;
	}
	.typed span {
		color:green;
	}
</style>
</head>
<body>
	
</body>
</html>